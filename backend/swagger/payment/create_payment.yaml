tags:
  - Payments

summary: Create a new payment
description: |
  This endpoint creates a new payment record for a user.  
  The payment will be saved with status **Pending** by default.

consumes:
  - application/json
produces:
  - application/json

parameters:
  - name: body
    in: body
    required: true
    description: Payment creation payload
    schema:
      type: object
      required:
        - user_id
        - amount
      properties:
        user_id:
          type: string
          description: ID of the user creating the payment
          example: "b02a89df-627b-4725-b96a-c28d6097e7ff"
        amount:
          type: number
          description: Total payment amount
          example: 150000
        payment_method:
          type: string
          description: Payment method (default = Cash)
          example: "Credit Card"

responses:
  201:
    description: Payment created successfully
    schema:
      type: object
      properties:
        message:
          type: string
          example: "Payment created successfully"
        payment:
          type: object
          properties:
            id:
              type: string
              example: "d72c3bd1-93be-4e4a-b9dd-034b3e4d51df"
            user_id:
              type: string
              example: "b02a89df-627b-4725-b96a-c28d6097e7ff"
            amount:
              type: number
              example: 150000
            payment_method:
              type: string
              example: "Cash"
            status:
              type: string
              example: "Pending"
            created_at:
              type: string
              example: "2025-01-10T14:32:12.123456"

  400:
    description: Missing required fields
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Missing required fields"

  404:
    description: User not found
    schema:
      type: object
      properties:
        error:
          type: string
          example: "User not found"

  500:
    description: Internal server error
    schema:
      type: object
      properties:
        error:
          type: string
          example: "Unexpected error occurred"
